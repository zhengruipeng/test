<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="UTF-8">
    <style>

    </style>
</head>
<body>
123
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded",function (){
        let serviceW = navigator.serviceWorker.register("./1.js");
        serviceW.then(function (registration){
            console.log(registration);
            registration.active.onmessage = function (e){
                console.log(e.data);
            }
            window.onclick = function (){
                console.log("window.onclick")
                registration.active.postMessage("123");
            }
            registration.onupdatefound = function (e){
                console.log(e);
            };
            /*registration.addEventListener("installing",function (e){
                console.log(e)
            });
            registration.addEventListener("install",function (e){
                console.log(e)
            });
            registration.addEventListener("activate",function (e){
                console.log(e)
            })*/

        }).catch(function (e){
            console.log("err"+e);
        });


    })
</script>
</body>
</html>