<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<p style="color:red;font-weight:bolder;">只能在chrome使用20211120</p>
<svg height="400" width="400">
  <style>
    *{
      stroke:#000;
      fill:none;
    }
  </style>
  <circle r="50" cx="50" cy="50" />
  <circle r="40" cx="55" cy="55" />
  <g>
    <rect x="20" y="20" height="40" width="40" />
  </g>
  <rect x="0" y="0" height="200" width="200" />
</svg>
<button id="getEnclosureList">getEnclosureList</button>
<button id="checkEnclosure">checkEnclosure</button>
<script type="text/javascript">
  document.addEventListener("DOMContentLoaded",function (){
    const svg = this.querySelector("svg");
    const g = this.querySelector("g");
    const getEnclosureList = this.getElementById("getEnclosureList");
    const checkEnclosure = this.getElementById("checkEnclosure");
    const container = svg.createSVGRect();
    container.x = 0;
    container.y = 0;
    container.height = 100;
    container.width = 100;
    getEnclosureList.onclick = function (){
      console.log(svg.getEnclosureList(container,null));
      console.log(svg.getEnclosureList(container,g));
    }
    checkEnclosure.onclick = function (){
      console.log(svg.checkEnclosure(svg.getEnclosureList(container,g)[0],container))
    }
  })
</script>
</body>
</html>